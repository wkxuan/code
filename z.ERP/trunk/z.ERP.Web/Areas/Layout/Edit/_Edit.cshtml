@inherits ViewBase<EditRender>
@using z.ERP.Web.Areas.Layout.Edit
@using z.MVC5.Views
@{
    Layout = ThisLayout;
}
@{
    WebFiles = new string[] {
                    "Areas/Layout/Edit/_Edit.js",
                    "Areas/Layout/Edit/EditStyle.css"
                };
}
@section head{
    @InitFiles(WebFiles)
    @RenderSection("head", false)
}

<div id="edit" style="overflow:hidden;" v-cloak>
    <div class="topMenuBtn">
        <yx-tool-bar v-bind:list="list" v-bind:disabled="disabled" v-bind:domdata="dataParam"></yx-tool-bar>
    </div>
    <div class="centerContent">
        <Collapse v-model="collapseValue">
            <Panel name="1">
                基本信息
                <div slot="content" class="editParamContent">
                    @RenderSection("topDivCon", false)
                    <row>
                        <i-col span="2" class="RowTitle">
                            编号
                        </i-col>
                        <i-col span="6" class="RowText">
                            <i-input v-model="dataParam.BILLID" disabled />
                        </i-col>
                        <i-col span="2" class="RowTitle" v-if="branchid">
                            <span class="mustElement">*</span>
                            门店
                        </i-col>
                        <i-col span="6" class="RowText" v-if="branchid">
                            <yx-select v-bind:value.sync="dataParam.BRANCHID" v-bind:disabled="branchDisabled||!disabled"
                                       method="branch" v-on:change="branchChange"></yx-select>
                        </i-col>
                        <i-col span="2" class="RowTitle" v-if="dataParam.STATUSMC">
                            状态
                        </i-col>
                        <i-col span="6" class="RowText" v-if="dataParam.STATUSMC">
                            <i-input v-model="dataParam.STATUSMC" disabled />
                        </i-col>
                    </row>
                    @RenderSection("baseParam", false)
                </div>
            </Panel>
            <Panel name="2" v-if="otherPanel">
                {{otherTitle}}
                <div slot="content">
                    @RenderSection("detailParam", false)
                </div>
            </Panel>
        </Collapse>
        <Card v-bind:padding=0>
            <div v-if="defaultFooter">
                <row>
                    <i-col span="2" class="RowTitle">
                        制单人:
                    </i-col>
                    <i-col span="4" class="Rowline">
                        <label>{{dataParam.REPORTER_NAME}}</label>
                    </i-col>
                    <i-col span="2" class="RowTitle">
                        制单时间:
                    </i-col>
                    <i-col span="4" class="Rowline">
                        <label>{{dataParam.REPORTER_TIME}}</label>
                    </i-col>
                    <i-col span="2" class="RowTitle">
                        审核人:
                    </i-col>
                    <i-col span="4" class="Rowline">
                        <label>{{dataParam.VERIFY_NAME}}</label>
                    </i-col>
                    <i-col span="2" class="RowTitle">
                        审核时间:
                    </i-col>
                    <i-col span="4" class="Rowline">
                        <label>{{dataParam.VERIFY_TIME}}</label>
                    </i-col>
                </row>
            </div>
            <div>
                @RenderSection("detailParamFooter", false)
            </div>
        </Card>
    </div>

    <yx-modal v-bind:src="popConfig.src" v-bind:title="popConfig.title"
              v-bind:width="popConfig.width" v-bind:height="popConfig.height"
              v-bind:visible.sync="popConfig.open"></yx-modal>

    <div class="hide">
        @RenderSection("hide", false)
        @RenderSection("pops", false)
    </div>
</div>

@section foot{
    @RenderSection("foot", false)
}
@{
    if (Model != null && !string.IsNullOrEmpty(Model?.Id))
    {
        <script type="text/javascript">
            $(function () {
                editDetail.Id = "@Model.Id";
            });
        </script>
    }
}